<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AMD Strix Halo (Ryzen AI Max+ 395) Fine-Tuning Rehberi</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <header>
        <div class="container">
            <h1>AMD Strix Halo Fine-Tuning Rehberi</h1>
            <p>Ryzen AI Max+ 395 ve Radeon 8060S icin Ozel Rehber</p>
        </div>
    </header>

    <nav>
        <div class="container">
            <ul>
                <li><a href="../index.html">Ana Sayfa</a></li>
                <li><a href="index.html" class="active">Windows + AMD</a></li>
                <li><a href="../linux-amd/index.html">Linux + AMD</a></li>
                <li><a href="../windows-nvidia/index.html">Windows + NVIDIA</a></li>
                <li><a href="../linux-nvidia/index.html">Linux + NVIDIA</a></li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <div class="breadcrumb">
            <a href="../index.html">Ana Sayfa</a> &gt; <a href="index.html">Windows + AMD</a> &gt; Strix Halo
        </div>
    </div>

    <main>
        <div class="container">
            <!-- Giris -->
            <section>
                <h2>AMD Ryzen AI Max+ 395 "Strix Halo" Nedir?</h2>

                <p>
                    AMD Ryzen AI Max+ 395, 2025'te piyasaya surulun devrimci bir APU'dur (Accelerated Processing Unit).
                    Tuketici sistemlerinde benzeri gorulmemis 128 GB'a kadar paylasimli bellek kapasitesiyle,
                    buyuk dil modellerini (LLM) yerel olarak calistirma ve fine-tuning yapma imkani sunar.
                </p>

                <div class="alert alert-success">
                    <strong>Neden Ozel?</strong> NVIDIA RTX 4090 24 GB VRAM'a sahipken, Strix Halo
                    GPU'ya 96-112 GB bellek ayirabilir. Bu, 70B+ parametreli modelleri bile
                    yerel olarak calistirmanizi saglar.
                </div>
            </section>

            <!-- Teknik Ozellikler -->
            <section>
                <h2>Teknik Ozellikler</h2>

                <table>
                    <thead>
                        <tr>
                            <th>Ozellik</th>
                            <th>Deger</th>
                            <th>Aciklama</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>CPU</td>
                            <td>16 cekirdek Zen 5</td>
                            <td>5.1 GHz'e kadar boost</td>
                        </tr>
                        <tr>
                            <td>GPU</td>
                            <td>Radeon 8060S (40 CU)</td>
                            <td>RDNA 3.5 mimarisi</td>
                        </tr>
                        <tr>
                            <td>GPU Saat Hizi</td>
                            <td>2.9 GHz (maks)</td>
                            <td>-</td>
                        </tr>
                        <tr>
                            <td>Hesaplama Gucu</td>
                            <td>59.4 TFLOPS (FP16 tepe)</td>
                            <td>Pratik: ~36.9 TFLOPS</td>
                        </tr>
                        <tr>
                            <td>Sistem Bellegi</td>
                            <td>64/128 GB LPDDR5X-8000</td>
                            <td>256-bit veri yolu</td>
                        </tr>
                        <tr>
                            <td>GPU Bellegi (UMA)</td>
                            <td>96-112 GB ayrilabalir</td>
                            <td>BIOS'tan ayarlanir</td>
                        </tr>
                        <tr>
                            <td>Bellek Bant Genisligi</td>
                            <td>~212 GB/s (pratik)</td>
                            <td>Teorik: 256 GB/s</td>
                        </tr>
                        <tr>
                            <td>NPU</td>
                            <td>XDNA 2</td>
                            <td>50 TOPS AI hizlandirma</td>
                        </tr>
                        <tr>
                            <td>TDP</td>
                            <td>120-140W (yuk altinda)</td>
                            <td>-</td>
                        </tr>
                        <tr>
                            <td>ROCm Mimari Kodu</td>
                            <td>gfx1151</td>
                            <td>ROCm 6.4.4+ gerektirir</td>
                        </tr>
                    </tbody>
                </table>
            </section>

            <!-- Karsilastirma -->
            <section>
                <h2>Diger GPU'larla Karsilastirma</h2>

                <div class="comparison-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Ozellik</th>
                                <th>Strix Halo (128GB)</th>
                                <th>RTX 4090</th>
                                <th>RTX 5090</th>
                                <th>M4 Max (128GB)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>GPU Bellegi</td>
                                <td><strong>96-112 GB</strong></td>
                                <td>24 GB</td>
                                <td>32 GB</td>
                                <td>128 GB (paylasilim)</td>
                            </tr>
                            <tr>
                                <td>Bellek Bant Genisligi</td>
                                <td>212 GB/s</td>
                                <td><strong>1 TB/s</strong></td>
                                <td><strong>1.79 TB/s</strong></td>
                                <td>546 GB/s</td>
                            </tr>
                            <tr>
                                <td>FP16 Performans</td>
                                <td>~37 TFLOPS</td>
                                <td><strong>~330 TFLOPS</strong></td>
                                <td><strong>~419 TFLOPS</strong></td>
                                <td>~60 TFLOPS</td>
                            </tr>
                            <tr>
                                <td>Maks Model Boyutu</td>
                                <td><strong>70B-128B</strong></td>
                                <td>13B-33B</td>
                                <td>33B-70B</td>
                                <td><strong>70B-128B</strong></td>
                            </tr>
                            <tr>
                                <td>Fine-Tuning Destegi</td>
                                <td><span class="partial">⚠️</span> Gelisiyor</td>
                                <td><span class="check">✓</span> Tam</td>
                                <td><span class="check">✓</span> Tam</td>
                                <td><span class="partial">⚠️</span> Sinirli</td>
                            </tr>
                            <tr>
                                <td>Fiyat (sistem)</td>
                                <td>~$2000-3000</td>
                                <td>~$1600 (sadece GPU)</td>
                                <td>~$2000 (sadece GPU)</td>
                                <td>~$4000+</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="alert alert-info">
                    <strong>Ozet:</strong> Strix Halo, buyuk modelleri calistirmak icin idealdir ancak
                    hesaplama gucu ve bant genisligi acisindan adanmis GPU'lara gore yavas kalir.
                    Fine-tuning icin kucuk-orta boyutlu modellerle (7B-13B) iyi sonuclar alinabilir.
                </div>
            </section>

            <!-- BIOS Ayarlari -->
            <section>
                <h2>BIOS/UEFI Bellek Ayarlari</h2>

                <p>
                    Strix Halo'nun gucunden tam faydalanmak icin GPU bellek ayirmasini
                    maksimuma cikarmaniz gerekir. Bu ayar BIOS'tan yapilir.
                </p>

                <div class="steps">
                    <div class="step">
                        <h3>BIOS'a Girin</h3>
                        <p>
                            Bilgisayari yeniden baslatin ve BIOS'a girmek icin tuş basin
                            (genellikle F2, DEL veya F12 - uretıcıye gore değişir).
                        </p>
                    </div>

                    <div class="step">
                        <h3>UMA/VRAM Ayarini Bulun</h3>
                        <p>
                            BIOS'ta su ayarlardan birini arayin:
                        </p>
                        <ul>
                            <li><strong>UMA Frame Buffer Size</strong></li>
                            <li><strong>Integrated Graphics Memory Size</strong></li>
                            <li><strong>VRAM Size</strong></li>
                            <li><strong>Graphics Memory Allocation</strong></li>
                        </ul>
                    </div>

                    <div class="step">
                        <h3>Maksimum Degeri Secin</h3>
                        <p>
                            128 GB RAM sisteminiz varsa, 96 GB veya "Auto" (otomatik) secin.
                            64 GB RAM sisteminiz varsa, 48-56 GB ayirabilirsiniz.
                        </p>
                    </div>

                    <div class="step">
                        <h3>Kaydet ve Cik</h3>
                        <p>
                            Degisiklikleri kaydedin (genellikle F10) ve sistemi yeniden baslatin.
                        </p>
                    </div>
                </div>

                <div class="alert alert-warning">
                    <strong>Dikkat:</strong> GPU'ya cok fazla bellek ayirmak, CPU icin kullanilabilir
                    RAM'i azaltir. 128 GB sistemde 96 GB GPU ayirirsan, CPU icin 32 GB kalir.
                    Dengeyi iyi kurun.
                </div>
            </section>

            <!-- ROCm Kurulumu -->
            <section>
                <h2>Windows'ta ROCm Kurulumu (gfx1151)</h2>

                <p>
                    Strix Halo'nun gfx1151 mimarisi icin ROCm destegi hala gelismektedir.
                    Asagida mevcut kurulum secenekleri:
                </p>

                <h3>Yontem 1: AMD Resmi Surucu (Onerilen)</h3>
                <div class="steps">
                    <div class="step">
                        <h3>AMD PyTorch Surucusunu Kurun</h3>
                        <p>
                            <a href="https://www.amd.com/en/support/download/drivers.html" target="_blank">AMD Surucu Sayfasi</a>'ndan
                            "AMD Software: PyTorch on Windows Edition" surucusunu indirin.
                        </p>
                    </div>

                    <div class="step">
                        <h3>PyTorch ROCm Wheel'larini Kurun</h3>
                        <pre><code># Python 3.12 ile
pip install --no-cache-dir https://repo.radeon.com/rocm/windows/rocm-rel-7.1.1/torch-2.9.0+rocmsdk20251116-cp312-cp312-win_amd64.whl</code></pre>
                    </div>
                </div>

                <h3>Yontem 2: ROCm Nightly Builds (Ileri Duzey)</h3>
                <p>
                    En son gfx1151 destegi icin nightly build'leri kullanabilirsiniz:
                </p>
                <pre><code># Conda ortami olustur
conda create --name rocm-gfx1151 python=3.12
conda activate rocm-gfx1151

# gfx1151 icin ozel nightly wheel'lar
pip install --index-url https://rocm.nightlies.amd.com/v2/gfx1151/ "rocm[libraries,devel]"
pip install --index-url https://rocm.nightlies.amd.com/v2/gfx1151/ --pre torch torchaudio torchvision</code></pre>

                <div class="alert alert-danger">
                    <strong>Uyari:</strong> Nightly build'ler deneyseldir ve her zaman calismai garanti edilmez.
                    Uretim ortami icin resmi surumleri kullanin.
                </div>

                <h3>Kurulumu Dogrulama</h3>
                <pre><code>import torch

print(f"PyTorch: {torch.__version__}")
print(f"CUDA mevcut: {torch.cuda.is_available()}")

if torch.cuda.is_available():
    print(f"GPU: {torch.cuda.get_device_name(0)}")
    props = torch.cuda.get_device_properties(0)
    print(f"VRAM: {props.total_memory / 1024**3:.1f} GB")

    # Basit test
    x = torch.randn(10000, 10000, device="cuda")
    y = torch.matmul(x, x)
    print("GPU hesaplama: BASARILI")</code></pre>
            </section>

            <!-- Fine-Tuning Onerileri -->
            <section>
                <h2>Strix Halo icin Fine-Tuning Onerileri</h2>

                <h3>Hangi Modeller Uygun?</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Model Boyutu</th>
                            <th>Strix Halo'da Durum</th>
                            <th>Oneriler</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>3B (Llama 3.2 3B)</td>
                            <td><span class="check">✓</span> Mukemmel</td>
                            <td>Hizli egitim, buyuk batch size</td>
                        </tr>
                        <tr>
                            <td>7B (Mistral, Llama)</td>
                            <td><span class="check">✓</span> Cok Iyi</td>
                            <td>LoRA ile rahat, QLoRA'ya gerek yok</td>
                        </tr>
                        <tr>
                            <td>13B (Llama 2 13B)</td>
                            <td><span class="check">✓</span> Iyi</td>
                            <td>LoRA onerilir</td>
                        </tr>
                        <tr>
                            <td>33B-35B</td>
                            <td><span class="partial">⚠️</span> Mumkun</td>
                            <td>QLoRA veya dusuk batch</td>
                        </tr>
                        <tr>
                            <td>70B</td>
                            <td><span class="partial">⚠️</span> Zor</td>
                            <td>Sadece QLoRA, cok kucuk batch</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Optimize Edilmis Ayarlar</h3>
                <pre><code>from transformers import TrainingArguments

# Strix Halo icin optimize edilmis ayarlar
training_args = TrainingArguments(
    output_dir="./outputs",

    # Batch ayarlari - buyuk bellek avantaji
    per_device_train_batch_size=4,   # Daha yuksek olabilir
    gradient_accumulation_steps=2,    # Efektif batch = 8

    # Hassasiyet
    fp16=True,                        # FP16 kullan
    # bf16=False,                     # BF16 su an sorunlu olabilir

    # Bellek optimizasyonu - buyuk belleginiz var, gradient checkpointing gerekmeyebilir
    gradient_checkpointing=False,     # Buyuk bellek ile gerek yok

    # Egitim
    num_train_epochs=3,
    learning_rate=2e-4,

    # Diger
    optim="adamw_torch",
    logging_steps=10,
    save_strategy="epoch",
)

# LoRA yapilandirmasi - daha yuksek rank kullanabilirsiniz
from peft import LoraConfig

lora_config = LoraConfig(
    r=32,                     # Buyuk bellekle daha yuksek rank
    lora_alpha=64,
    target_modules=["q_proj", "v_proj", "k_proj", "o_proj", "gate_proj", "up_proj", "down_proj"],
    lora_dropout=0.1,
    bias="none",
    task_type="CAUSAL_LM"
)</code></pre>

                <h3>Performans Beklentileri</h3>
                <ul>
                    <li><strong>7B Model, LoRA:</strong> ~50-100 ornek/dakika (batch=4)</li>
                    <li><strong>13B Model, LoRA:</strong> ~25-50 ornek/dakika (batch=2)</li>
                    <li><strong>33B Model, QLoRA:</strong> ~10-20 ornek/dakika (batch=1)</li>
                </ul>

                <div class="alert alert-info">
                    <strong>Not:</strong> Bu degerler tahminidir. Gercek performans veri seti,
                    sequence uzunlugu ve diger faktorlere gore degisir.
                </div>
            </section>

            <!-- Bilinen Sorunlar -->
            <section>
                <h2>Bilinen Sorunlar ve Cozumleri</h2>

                <div class="card">
                    <h3>Sorun: hipBLASLt Desteklenmiyor</h3>
                    <p>
                        <strong>Belirti:</strong> "hipBLASLt falling back to hipBLAS on gfx1151 as unsupported architecture" hatasi.
                    </p>
                    <p>
                        <strong>Cozum:</strong> Bu bir uyaridir, hata degil. Egitim devam edecektir ancak performans
                        optimal olmayabilir. ROCm guncellemeleriyle duzelmesi bekleniyor.
                    </p>
                </div>

                <div class="card">
                    <h3>Sorun: Flash Attention Calısmiyor</h3>
                    <p>
                        <strong>Belirti:</strong> Flash Attention etkinlestirme hatalari.
                    </p>
                    <p>
                        <strong>Cozum:</strong> gfx1151 icin Flash Attention henuz desteklenmiyor.
                        Standart attention kullanin (<code>attn_implementation="eager"</code>).
                    </p>
                    <pre><code>model = AutoModelForCausalLM.from_pretrained(
    model_id,
    torch_dtype=torch.float16,
    device_map="auto",
    attn_implementation="eager"  # Flash attention yerine
)</code></pre>
                </div>

                <div class="card">
                    <h3>Sorun: gfx1100 vs gfx1151 Kernel Performans Farki</h3>
                    <p>
                        <strong>Belirti:</strong> Beklenen performansin altinda sonuclar.
                    </p>
                    <p>
                        <strong>Aciklama:</strong> Mevcut ROCm kernel'leri gfx1100 (RX 7900 serisi) icin optimize edilmis.
                        gfx1151 kernel'leri 2-6x daha yavas olabilir.
                    </p>
                    <p>
                        <strong>Cozum:</strong> ROCm TheRock nightly build'lerinde gfx1151 optimizasyonlari
                        ekleniyor. En son surumu deneyin.
                    </p>
                </div>

                <div class="card">
                    <h3>Sorun: Bellek Hatalari (OOM)</h3>
                    <p>
                        <strong>Belirti:</strong> "Out of memory" hatasi aliryorsunuz ama yeterli VRAM olmasi gerekiyor.
                    </p>
                    <p>
                        <strong>Cozum:</strong>
                    </p>
                    <ol>
                        <li>BIOS'ta UMA/VRAM ayirmasini kontrol edin</li>
                        <li>Diger GPU-kullanan uygulamalari kapatin</li>
                        <li>Windows'u yeniden baslatin (bellek fragmantasyonu)</li>
                    </ol>
                </div>
            </section>

            <!-- Linux Alternatifi -->
            <section>
                <h2>Daha Iyi Performans: Linux Kullanimi</h2>

                <p>
                    Strix Halo'nun tam potansiyelini kullanmak icin Linux onerilir.
                    Linux'ta ROCm destegi daha olgun ve daha iyi optimize edilmistir.
                </p>

                <h3>Linux Avantajlari</h3>
                <ul>
                    <li>Daha iyi ROCm destegi ve performans</li>
                    <li>Flash Attention calisma sansi daha yuksek</li>
                    <li>Axolotl, Llama Factory gibi araclar kullanilabilir</li>
                    <li>vLLM ile yuksek verimli inference</li>
                </ul>

                <h3>Onerilen Linux Dagitimi</h3>
                <ul>
                    <li><strong>Ubuntu 24.04 LTS</strong> - En iyi ROCm destegi</li>
                    <li>Kernel 6.14+ onerilir</li>
                    <li>ROCm 7.0+ veya TheRock nightly</li>
                </ul>

                <a href="../linux-amd/index.html" class="btn btn-primary">Linux + AMD Rehberine Git</a>
            </section>

            <!-- Kaynaklar -->
            <section>
                <h2>Ek Kaynaklar</h2>

                <ul>
                    <li>
                        <a href="https://llm-tracker.info/AMD-Strix-Halo-(Ryzen-AI-Max+-395)-GPU-Performance" target="_blank">
                            LLM Tracker - Strix Halo Performans Testleri
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/ROCm/TheRock/discussions/655" target="_blank">
                            ROCm TheRock - gfx1151 PyTorch Wheel'lari
                        </a>
                    </li>
                    <li>
                        <a href="https://medium.com/@GenerationAI/pytorch-with-rocm-7-for-windows-on-amd-ryzen-ai-max-395-strix-halo-radeon-8060s-gfx1151-1ba069edc2c4" target="_blank">
                            Medium - PyTorch ROCm 7 Windows Kurulumu (Strix Halo)
                        </a>
                    </li>
                    <li>
                        <a href="https://forum.level1techs.com/t/strix-halo-ryzen-ai-max-395-llm-benchmark-results/233796" target="_blank">
                            Level1Techs Forum - Benchmark Sonuclari
                        </a>
                    </li>
                </ul>
            </section>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>
                Bu rehber topluluk kaynaklari ve AMD resmi dokumantasyonuna dayanmaktadir.
                <br>
                <a href="https://rocm.docs.amd.com/" target="_blank">ROCm Docs</a> |
                <a href="https://www.amd.com/en/developer/resources/technical-articles/2025/amd-ryzen-ai-max-395--a-leap-forward-in-generative-ai-performanc.html" target="_blank">AMD Strix Halo Teknik Makale</a>
            </p>
        </div>
    </footer>
</body>
</html>
